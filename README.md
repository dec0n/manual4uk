# Руководство по быстрому созданию мультизагрузочной флешки с Ventoy

Ventoy — удобный инструмент для создания мультизагрузочных USB-накопителей, поддерживающих загрузку в режимах UEFI и Legacy. В данном руководстве описан процесс максимально быстрого создания загрузочной флешки с параметрами по умолчанию, а также шаги для настройки поддержки Secure Boot и базовой конфигурации Ventoy.

---

## 1. Быстрое создание мультизагрузочной флешки

Следуйте этим шагам, чтобы подготовить USB-накопитель с Ventoy:

1. **Скачивание Ventoy**  
   Загрузите последнюю версию Ventoy с официального сайта: [https://github.com/ventoy/Ventoy/releases](https://github.com/ventoy/Ventoy/releases). Распакуйте архив в удобное место на вашем компьютере.

2. **Запуск Ventoy**  
   Откройте папку с распакованным архивом и запустите файл `Ventoy2Disk.exe`.  
   - Если появляется предупреждение Windows SmartScreen, выберите «Подробнее» → «Выполнить в любом случае».

3. **Выбор языка (опционально)**  
   В главном меню программы выберите «Language» и установите русский язык, если требуется.

4. **Выбор USB-накопителя**  
   В интерфейсе Ventoy выберите нужный USB-накопитель из списка.  
   **Важно**: По умолчанию все данные на флешке будут удалены. Если вы хотите сохранить данные, изучите раздел о неразрушающей установке в официальной документации.

5. **Установка Ventoy**  
   Нажмите кнопку «Установить» (или «Install»). Подтвердите удаление данных на флешке дважды в появившихся диалоговых окнах.

6. **Завершение установки**  
   После завершения процесса (обычно занимает несколько секунд) вы увидите сообщение об успешной установке. Нажмите «ОК» и закройте программу.

7. **Результат**  
   Флешка будет разделена на два раздела:  
   - Основной раздел (ExFAT) для хранения загрузочных файлов.  
   - Служебный раздел (FAT) с файлами Ventoy (может быть скрыт в проводнике).

8. **Копирование загрузочных файлов**  
   Скопируйте ISO-файлы (а также WIM, VHD, IMG) на ExFAT-раздел. Вы можете организовать их в папки по своему усмотрению (избегайте кириллицы и пробелов в именах папок).  
   - В меню Ventoy переключение между видами «дерево папок» и «список файлов» осуществляется клавишей `F3`.

9. **Загрузка с флешки**  
   Настройте BIOS/UEFI для загрузки с USB или используйте Boot Menu. Ventoy поддерживает загрузку в режимах Legacy и UEFI.  
   **Примечание**: Рекомендуется отключить Secure Boot в UEFI. Для поддержки Secure Boot см. раздел ниже.

---

## 2. Поддержка Secure Boot

В последних версиях Ventoy поддержка Secure Boot включена по умолчанию, но для её корректной работы требуется регистрация ключа. Если при загрузке появляется ошибка `Verification failed: 0x1A Security Violation`, выполните следующие шаги:

1. На экране с ошибкой нажмите `Enter` (ОК).
2. До окончания таймера на следующем экране нажмите любую клавишу.
3. В меню MOK Manager выберите «Enroll key from disk» и нажмите `Enter`.
4. Выберите раздел `VTOYEFI` и нажмите `Enter`.
5. Выберите файл `ENROLL_THIS_KEY_IN_MOKMANAGER.cer` и подтвердите выбор (`Enter`).
6. Подтвердите добавление ключа, выбрав `Continue` → `Yes` → `Yes`.
7. Выберите `Reboot` и нажмите `Enter` для перезагрузки.

После этого флешка должна загрузиться даже с включённым Secure Boot.

---

## 3. Настройка Ventoy с помощью VentoyPlugson

Для гибкой настройки Ventoy используйте файл конфигурации `ventoy.json` или графический интерфейс `VentoyPlugson.exe`.

### Создание и настройка ventoy.json

1. **Запуск VentoyPlugson**  
   В папке с Ventoy запустите `VentoyPlugson.exe`, выберите подготовленную флешку и нажмите «Start».  
   Откроется веб-интерфейс для настройки параметров, которые автоматически сохраняются в файл `ventoy\ventoy.json` на флешке.

2. **Доступные параметры настройки**  
   - **Меню загрузки**: Выбор отображения (дерево или список), разрешение, цвета.  
   - **Псевдонимы ISO**: Изменение отображаемых названий ISO-файлов (Menu Alias Plugin).  
   - **Темы оформления**: Используйте темы GRUB, размещённые в `ventoy\themes`. Настройка через Theme Plugin.  
   - **Иконки**: Назначение иконок для файлов и папок через Menu Class Plugin (иконки размещаются в `ventoy\themes\имя_темы\icons`).  
   - **Автоустановка**: Настройка файлов `unattended.xml` для автоматической установки ОС (Auto Install Plugin).  
   - **Обход проверки Windows 11**: Включение опции `VTOY_WIN11_BYPASS_CHECK` (Global Control Plugin).  
   - **Дополнительные пункты меню**: Добавление собственных пунктов GRUB (Menu Extension Plugin).  
   - **Постоянное хранилище**: Настройка для Live-режима Linux.  
   - **Пароли**: Установка паролей для доступа к флешке или образам (Password Plugin).

---

## Полезные советы

- **Организация файлов**: Создавайте папки на ExFAT-разделе для удобной навигации, но избегайте кириллицы и пробелов в именах.
- **Темы GRUB**: Используйте готовые темы GRUB2 и редактируйте их под свои нужды.
- **Secure Boot**: Если поддержка Secure Boot не требуется, отключите её в UEFI для упрощения загрузки.
- **Обновление Ventoy**: Для обновления версии используйте кнопку «Обновить» в Ventoy2Disk.exe, сохранив данные на флешке.

---

Теперь ваша мультизагрузочная флешка готова к использованию! Вы можете добавлять или удалять ISO-образы без необходимости повторной установки Ventoy. Для дополнительных настроек и плагинов обратитесь к официальной документации на сайте Ventoy.
